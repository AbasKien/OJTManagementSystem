@{
    ViewData["Title"] = "Confirm Email";
    bool success = TempData["EmailConfirmed"] != null && (bool)TempData["EmailConfirmed"] == true;
}

<div class="row justify-content-center mt-5">
    <div class="col-md-5">
        <div class="card shadow-lg border-0 text-center">
            <div class="card-header text-white py-4 @(success ? "header-success" : "header-error")">
                <div class="icon-circle mx-auto mb-3">
                    <i class="fas @(success ? "fa-envelope-open-text" : "fa-times-circle") fa-2x"></i>
                </div>
                <h3 class="mb-0">@(success ? "Email Confirmed!" : "Confirmation Failed")</h3>
            </div>

            <div class="card-body p-5">
                @if (success)
                {
                    <div class="mb-4">
                        <div class="success-badge mx-auto mb-3">
                            <i class="fas fa-check fa-2x text-success"></i>
                        </div>
                        <h5 class="fw-bold text-success">Your account is now active!</h5>
                        <p class="text-muted">
                            Your email has been successfully verified. You can now log in to your OJT Management System account.
                        </p>
                    </div>

                    <div class="info-box mb-4">
                        <i class="fas fa-info-circle text-primary me-2"></i>
                        <span class="small">A supervisor will be assigned to you shortly. You'll be notified once assigned.</span>
                    </div>

                    <div class="d-grid">
                        <a href="/Account/Login" class="btn btn-confirm-success fw-bold">
                            <i class="fas fa-sign-in-alt me-2"></i> Go to Login
                        </a>
                    </div>
                }
                else
                {
                    <div class="mb-4">
                        <div class="error-badge mx-auto mb-3">
                            <i class="fas fa-times fa-2x text-danger"></i>
                        </div>
                        <h5 class="fw-bold text-danger">Confirmation link is invalid or expired</h5>
                        <p class="text-muted">
                            The email confirmation link you used is invalid or has already expired.
                            Please register again or request a new confirmation email.
                        </p>
                    </div>

                    <div class="d-grid gap-2">
                        <a href="/Account/RegisterIntern" class="btn btn-outline-success fw-bold">
                            <i class="fas fa-user-plus me-2"></i> Register Again
                        </a>
                        <a href="/Account/Login" class="btn btn-outline-secondary">
                            <i class="fas fa-arrow-left me-1"></i> Back to Login
                        </a>
                    </div>
                }
            </div>
        </div>
    </div>
</div>

<style>
    .card {
        border-radius: 14px;
        overflow: hidden;
    }

    .header-success {
        background: linear-gradient(135deg, #198754 0%, #155724 100%);
    }

    .header-error {
        background: linear-gradient(135deg, #dc3545 0%, #a71d2a 100%);
    }

    .icon-circle {
        width: 60px;
        height: 60px;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.2);
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .success-badge, .error-badge {
        width: 70px;
        height: 70px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .success-badge {
        background: #d1fae5;
    }

    .error-badge {
        background: #ffe4e6;
    }

    .info-box {
        background: #eff6ff;
        border: 1px solid #bfdbfe;
        border-radius: 8px;
        padding: 12px 16px;
        text-align: left;
        color: #1e40af;
    }

    .btn-confirm-success {
        background: linear-gradient(135deg, #198754 0%, #155724 100%);
        color: #fff;
        border: none;
        padding: 0.65rem;
        border-radius: 8px;
        transition: all 0.2s;
    }

        .btn-confirm-success:hover {
            background: linear-gradient(135deg, #155724 0%, #0d3818 100%);
            color: #fff;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(25, 135, 84, 0.4);
        }
</style>
