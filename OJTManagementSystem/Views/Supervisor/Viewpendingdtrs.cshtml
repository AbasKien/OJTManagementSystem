@model List<DailyTimeRecordViewModel>
@{
    ViewData["Title"] = "Pending DTRs";
}

<div class="row mb-3">
    <div class="col-md-12">
        <h2>Pending Daily Time Records</h2>
    </div>
</div>

@if (Model.Count > 0)
{
    <div class="card">
        <div class="card-body">
            <table class="table table-hover">
                <thead>
                    <tr>
                        <th>Intern</th>
                        <th>Date</th>
                        <th>Time In</th>
                        <th>Time Out</th>
                        <th>Hours</th>
                        <th>Activity</th>
                        <th>Submitted</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var dtr in Model)
                    {
                        <tr>
                            <td>@dtr.InternName</td>
                            <td>@dtr.RecordDate.ToString("MMM dd, yyyy")</td>
                            <td>@dtr.TimeIn.ToString("hh\\:mm")</td>
                            <td>@dtr.TimeOut.ToString("hh\\:mm")</td>
                            <td>@dtr.TotalHours.ToString("F2") hrs</td>
                            <td>@dtr.ActivityDescription.Substring(0, Math.Min(25, dtr.ActivityDescription.Length))...</td>
                            <td>@dtr.CreatedAt.ToString("MMM dd, yyyy")</td>
                            <td>
                                <a href="@Url.Action("ApproveDtr", "Supervisor", new { dtrId = dtr.DtrId })" class="btn btn-sm btn-primary">Review</a>
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>
}
else
{
    <div class="alert alert-success">
        All DTRs have been reviewed. Great job!
    </div>
}

<div class="mt-3">
    <a href="@Url.Action("Dashboard", "Supervisor")" class="btn btn-secondary">Back to Dashboard</a>
</div>
