@model SupervisorDashboardViewModel
@{
    ViewData["Title"] = "Supervisor Dashboard";
}

<div class="container-fluid">

    <!-- ===================== DASHBOARD HEADER ===================== -->
    <div class="row mb-4">
        <div class="col">
            <h2 class="fw-bold">Dashboard</h2>
        </div>
    </div>

    <!-- ===================== STAT CARDS ===================== -->
    <div class="row mb-4">

        <!-- LEFT SIDE (DTR + Leave stacked) -->
        <div class="col-md-6">

            <!-- Pending DTRs -->
           

        </div>

    </div>

    <!-- ===================== TABLE SECTION ===================== -->
    <div class="row">

        <!-- Pending DTRs Table -->
        <div class="col-md-6 mb-4">
            <div class="card shadow">
                <div class="card-header bg-dark text-white">
                    Recent Pending DTRs
                </div>
                <div class="card-body">

                    @if (Model.PendingDtrs != null && Model.PendingDtrs.Count > 0)
                    {
                        <table class="table table-hover table-sm">
                            <thead>
                                <tr>
                                    <th>Intern</th>
                                    <th>Date</th>
                                    <th>Hours</th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody>
                                @foreach (var dtr in Model.PendingDtrs.Take(5))
                                {
                                    <tr>
                                        <td>@dtr.InternName</td>
                                        <td>@dtr.RecordDate.ToString("MMM dd, yyyy")</td>
                                        <td>@dtr.TotalHours.ToString("F2")</td>
                                        <td>
                                            <a href="@Url.Action("ApproveDtr", "Supervisor", new { dtrId = dtr.DtrId })"
                                               class="btn btn-sm btn-primary">
                                                Approve
                                            </a>
                                        </td>
                                    </tr>
                                }
                            </tbody>
                        </table>
                    }
                    else
                    {
                        <p class="text-muted">No pending DTRs</p>
                    }

                </div>
            </div>
        </div>

        <!-- Pending Leaves Table -->
        <div class="col-md-6 mb-4">
            <div class="card shadow">
                <div class="card-header bg-secondary text-white">
                    Recent Pending Leave Requests
                </div>
                <div class="card-body">

                    @if (Model.PendingLeaveRequests != null && Model.PendingLeaveRequests.Count > 0)
                    {
                        <table class="table table-hover table-sm">
                            <thead>
                                <tr>
                                    <th>Intern</th>
                                    <th>Type</th>
                                    <th>Days</th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody>
                                @foreach (var leave in Model.PendingLeaveRequests.Take(5))
                                {
                                    <tr>
                                        <td>@leave.InternName</td>
                                        <td>@leave.LeaveType</td>
                                        <td>@leave.NumberOfDays</td>
                                        <td>
                                            <a href="@Url.Action("ApproveLeaveRequest", "Supervisor", new { leaveRequestId = leave.LeaveRequestId })"
                                               class="btn btn-sm btn-primary">
                                                Approve
                                            </a>
                                        </td>
                                    </tr>
                                }
                            </tbody>
                        </table>
                    }
                    else
                    {
                        <p class="text-muted">No pending leave requests</p>
                    }

                </div>
            </div>
        </div>

    </div>

</div>
