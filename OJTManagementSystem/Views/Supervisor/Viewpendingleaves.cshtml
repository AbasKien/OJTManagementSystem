@model List<LeaveRequestViewModel>
@{
    ViewData["Title"] = "Pending Leave Requests";
}

<div class="row mb-3">
    <div class="col-md-12">
        <h2>Pending Leave Requests</h2>
    </div>
</div>

@if (Model.Count > 0)
{
    <div class="card">
        <div class="card-body">
            <table class="table table-hover">
                <thead>
                    <tr>
                        <th>Intern</th>
                        <th>From Date</th>
                        <th>To Date</th>
                        <th>Leave Type</th>
                        <th>Days</th>
                        <th>Reason</th>
                        <th>Submitted</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var leave in Model)
                    {
                        <tr>
                            <td>@leave.InternName</td>
                            <td>@leave.StartDate.ToString("MMM dd, yyyy")</td>
                            <td>@leave.EndDate.ToString("MMM dd, yyyy")</td>
                            <td>@leave.LeaveType</td>
                            <td>@leave.NumberOfDays</td>
                            <td>@leave.Reason.Substring(0, Math.Min(25, leave.Reason.Length))...</td>
                            <td>@leave.CreatedAt.ToString("MMM dd, yyyy")</td>
                            <td>
                                <a href="@Url.Action("ApproveLeaveRequest", "Supervisor", new { leaveRequestId = leave.LeaveRequestId })" class="btn btn-sm btn-primary">Review</a>
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>
}
else
{
    <div class="alert alert-success">
        All leave requests have been reviewed. Great job!
    </div>
}

<div class="mt-3">
    <a href="@Url.Action("Dashboard", "Supervisor")" class="btn btn-secondary">Back to Dashboard</a>
</div>
